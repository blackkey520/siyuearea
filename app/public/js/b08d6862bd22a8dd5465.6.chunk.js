webpackJsonp([6],{3558:function(t,e,r){"use strict";function a(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.updategoods=e.querygoodslist=e.update=e.querylist=e.add=void 0;var u=r(222),n=a(u),s=r(447),o=a(s),c=(e.add=function(){var t=(0,o.default)(n.default.mark(function t(e){return n.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,c.request)({url:"/api/restql/Base_Product",method:"POST",data:e}));case 1:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),e.querylist=function(){var t=(0,o.default)(n.default.mark(function t(e){return n.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,c.request)({url:"/api/restql/Base_Product",method:"GET",data:e}));case 1:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),e.update=function(){var t=(0,o.default)(n.default.mark(function t(e){return n.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,c.request)({url:"/api/restql/Base_Product/"+e.proid,method:"put",data:e}));case 1:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),e.querygoodslist=function(){var t=(0,o.default)(n.default.mark(function t(e){return n.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,c.request)({url:"/api/restql/Base_Goods",method:"GET",data:e}));case 1:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),e.updategoods=function(){var t=(0,o.default)(n.default.mark(function t(e){return n.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,c.request)({url:"/api/restql/Base_Goods/"+e.gid,method:"put",data:e}));case 1:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),r(104))},470:function(t,e,r){"use strict";function a(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var u=r(289),n=a(u),s=r(222),o=a(s),c=r(10),d=a(c);r(290);var p=r(3558),i=r(3),f=a(i),l=r(144);r(60);e.default={namespace:"product",state:{checkproduct:{proimgdescarray:["","","","","","","","","",""]},protype:100,productlist:[],pagination:{current:1,pageSize:100,total:0}},reducers:{updateState:function(t,e){var r=e.payload;return(0,d.default)({},t,r)}},subscriptions:{},effects:{getproductlist:o.default.mark(function t(e,r){var a,u,n,s,c,d=(e.payload,r.call),i=r.select,f=r.put;return o.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i(function(t){return t.product});case 2:return a=t.sent,u=a.protype,n={},100!==u&&(n.protype=parseInt(u)),t.next=8,d(p.querylist,n);case 8:if(s=t.sent,!s.success||0===s.data.record.length){t.next=14;break}return c=s.data.record,c.map(function(t,e){""==t.proimgdesc?t.proimgdescarray=["","","","","","","","","",""]:t.proimgdescarray=t.proimgdesc.split(",")}),t.next=14,f({type:"updateState",payload:{productlist:c}});case 14:case"end":return t.stop()}},t,this)}),saveproduct:o.default.mark(function t(e,r){var a=e.payload,u=r.call,s=r.put;return o.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!a.proid){t.next=5;break}return t.next=3,u(p.update,(0,d.default)({},a,{createtime:(0,f.default)().format("YYYY-MM-DD HH:mm:ss")}));case 3:t.next=7;break;case 5:return t.next=7,u(p.add,(0,d.default)({},a,{createtime:(0,f.default)().format("YYYY-MM-DD HH:mm:ss")}));case 7:return n.default.success("保存成功"),t.next=10,s(l.routerRedux.push({pathname:"/product"}));case 10:case"end":return t.stop()}},t,this)})}},t.exports=e.default}});