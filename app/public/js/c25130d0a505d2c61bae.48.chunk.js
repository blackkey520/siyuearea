webpackJsonp([48],{2302:function(t,e,r){"use strict";function u(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var a=r(289),n=u(a),s=r(221),o=u(s),d=r(10),i=u(d);r(290);var c=r(3549),f=r(3);u(f),r(144),r(60);e.default={namespace:"goods",state:{goodslist:[],isfinish:100,pagination:{current:1,pageSize:100,total:0}},reducers:{updateState:function(t,e){var r=e.payload;return(0,i.default)({},t,r)}},subscriptions:{},effects:{getgoodslist:o.default.mark(function t(e,r){var u,a,n,s,d,i=(e.payload,r.call),f=r.select,p=r.put;return o.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return u={},t.next=3,f(function(t){return t.goods});case 3:return a=t.sent,n=a.isfinish,100!=n&&(u.isfinish=n),t.next=8,i(c.querygoodslist,u);case 8:if(s=t.sent,!s.success){t.next=13;break}return d=s.data.record,t.next=13,p({type:"updateState",payload:{goodslist:d}});case 13:case"end":return t.stop()}},t,this)}),updatelist:o.default.mark(function t(e,r){var u=e.payload,a=r.call,s=r.put;return o.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,a(c.updategoods,(0,i.default)({},u));case 2:return n.default.success("保存成功"),t.next=5,s({type:"getgoodslist",payload:{}});case 5:case"end":return t.stop()}},t,this)})}},t.exports=e.default},3549:function(t,e,r){"use strict";function u(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.updategoods=e.querygoodslist=e.update=e.querylist=e.add=void 0;var a=r(221),n=u(a),s=r(447),o=u(s),d=(e.add=function(){var t=(0,o.default)(n.default.mark(function t(e){return n.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,d.request)({url:"/api/restql/Base_Product",method:"POST",data:e}));case 1:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),e.querylist=function(){var t=(0,o.default)(n.default.mark(function t(e){return n.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,d.request)({url:"/api/restql/Base_Product",method:"GET",data:e}));case 1:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),e.update=function(){var t=(0,o.default)(n.default.mark(function t(e){return n.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,d.request)({url:"/api/restql/Base_Product/"+e.proid,method:"put",data:e}));case 1:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),e.querygoodslist=function(){var t=(0,o.default)(n.default.mark(function t(e){return n.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,d.request)({url:"/api/restql/Base_Goods",method:"GET",data:e}));case 1:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),e.updategoods=function(){var t=(0,o.default)(n.default.mark(function t(e){return n.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,d.request)({url:"/api/restql/Base_Goods/"+e.gid,method:"put",data:e}));case 1:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),r(104))}});