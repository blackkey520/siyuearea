webpackJsonp([21],{2253:function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n,l,d,o,i=a(927),u=r(i),m=a(286),s=r(m),c=a(137),p=r(c),f=a(46),h=r(f),b=a(215),g=r(b),y=a(4),v=r(y),E=a(212),k=r(E),x=a(1),_=r(x),C=a(5),I=r(C),S=a(3),w=r(S),T=a(2),D=r(T),j=a(282),z=r(j);a(928),a(444),a(168),a(110),a(287),a(169);var M=a(0),R=r(M),B=a(281),P=(a(63),a(9)),J=(r(P),a(136)),L=a(2277),O=z.default.Search,K=(n=(0,B.connect)(function(e){var t=e.member,a=e.loading;return{memberlist:t.memberlist,memberloading:a.effects["member/getmemberlist"],pagination:t.pagination}}))((o=d=function(e){function t(e,a){(0,_.default)(this,t);var r=(0,w.default)(this,(t.__proto__||(0,k.default)(t)).call(this,e,a));return r.state={record:null},r}return(0,D.default)(t,e),(0,I.default)(t,[{key:"componentDidMount",value:function(){this.loadTableData()}},{key:"loadTableData",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";""!==a?this.props.dispatch({type:"member/getmemberlist",payload:{page:e,pageSize:t,membercode:a}}):this.props.dispatch({type:"member/getmemberlist",payload:{page:e,pageSize:t}})}},{key:"tableChange",value:function(e){this.loadTableData(e.current,e.pageSize)}},{key:"render",value:function(){var e=this,t=(0,v.default)({showTotal:function(e){return"共"+e+"条数据"},showSizeChanger:!0,showQuickJumper:!0},this.props.pagination),a=[{title:"会员名称",dataIndex:"mname",render:function(e){return R.default.createElement("a",{href:"javascript:;"},e)}},{title:"联系方式",dataIndex:"phonenum"},{title:"会员状态",dataIndex:"mstate",render:function(e){return R.default.createElement("span",null,L.mstate[e])}},{title:"会员类型",dataIndex:"mtype",render:function(e){return R.default.createElement("span",null,L.mtype[e])}},{title:"卡内余额",dataIndex:"mmoney"},{title:"操作",render:function(t,a,r){var n=R.default.createElement(g.default,{record:a,onClick:function(t){"1"===t.key?e.props.dispatch(J.routerRedux.push({pathname:"/memberlist/recharge/"+e.state.record.mid})):"2"===t.key?e.props.dispatch(J.routerRedux.push({pathname:"/memberlist/edit/"+e.state.record.mid})):"3"===t.key&&e.props.dispatch(J.routerRedux.push({pathname:"/memberlist/orderrecord/"+e.state.record.mid}))}},R.default.createElement(g.default.Item,{key:"1"},"充值"),R.default.createElement(g.default.Item,{key:"2"},"编辑"),R.default.createElement(g.default.Item,{key:"3"},"预定记录"));return R.default.createElement(s.default,{onVisibleChange:function(){e.setState({record:a})},overlay:n},R.default.createElement(p.default,{style:{marginLeft:8}},"操作 ",R.default.createElement(h.default,{type:"down"})))}}];return R.default.createElement("div",{className:"content-inner"},R.default.createElement("div",{style:{paddingBottom:10,marginBottom:20,borderBottom:"1px solid #ddd"}},R.default.createElement(O,{placeholder:"请输入会员编号",onSearch:function(t){e.loadTableData(1,10,t)},style:{width:200}}),R.default.createElement(p.default,{onClick:function(){e.props.dispatch(J.routerRedux.push({pathname:"/memberlist/create"}))},style:{marginLeft:10}},"新增会员")),R.default.createElement(u.default,{columns:a,pagination:t,dataSource:this.props.memberlist,rowKey:"mid",loading:this.props.memberloading,bordered:!0,onChange:this.tableChange.bind(this)}))}}]),t}(M.Component),d.contextTypes={router:M.PropTypes.object},l=o))||l;t.default=K,e.exports=t.default},2277:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.mtype=["微信注册","线下注册","特别会员"],t.mstate=["正常","欠费","停用"],t.ostate=["预定","正在使用","使用完成","过期"]}});